{"ast":null,"code":"import _classCallCheck from \"H:\\\\music\\\\react-music-player\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"H:\\\\music\\\\react-music-player\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"H:\\\\music\\\\react-music-player\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"H:\\\\music\\\\react-music-player\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"H:\\\\music\\\\react-music-player\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"H:\\\\music\\\\react-music-player\\\\src\\\\views\\\\Playlist\\\\header\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Icon } from 'antd';\nimport MinorTitle from '@components/MinorTitle';\nimport { formatTimeStamp } from '@src/utils';\nimport './style.less';\n\nvar renderCreator = function renderCreator(playlist) {\n  return React.createElement(\"div\", {\n    className: \"creator\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"creator-avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: playlist.creator.avatarUrl,\n    alt: \"creator-avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: \"creator-nickname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, playlist.creator.nickname), React.createElement(\"span\", {\n    className: \"create-time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, formatTimeStamp(playlist.createTime), \"\\u521B\\u5EFA\"), React.createElement(\"span\", {\n    className: \"play-count\",\n    role: \"img\",\n    \"aria-label\": \"hear\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, \"\\uD83C\\uDFA7\", playlist.playCount));\n};\n\nvar checkStarred = function checkStarred(id) {\n  var allStarredList = JSON.parse(localStorage.getItem('allStarredList'));\n\n  if (allStarredList) {\n    for (var i = 0; i < allStarredList.length; i++) {\n      var list = allStarredList[i];\n\n      if (list.id === id) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _this.toggleDesc = function () {\n      _this.Setstate({\n        showDesc: !_this.state.showDesc\n      });\n    };\n\n    _this.beforeStar = function () {\n      _this.props.beforeStar();\n    };\n\n    _this.beforeCancelStar = function () {\n      _this.props.beforeCancelStar();\n    };\n\n    _this.renderCollectBtn = function (id) {\n      return checkStarred(id) ? React.createElement(\"span\", {\n        onClick: _this.beforeCancelStar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"heart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), \"\\u53D6\\u6D88\\u6536\\u85CF\") : React.createElement(\"span\", {\n        onClick: _this.beforeStar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"heart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), \"\\u6536\\u85CF\");\n    };\n\n    _this.state = {\n      showDesc: false\n    };\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"render\",\n    value: function render() {\n      var playlist = this.props.playlist;\n      var coverImgUrl = playlist.coverImgUrl,\n          name = playlist.name,\n          description = playlist.description,\n          tags = playlist.tags;\n      var id = playlist.id;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(MinorTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u6B4C\\u5355\"), React.createElement(\"div\", {\n        className: \"info-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cover-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: coverImgUrl,\n        alt: \"cover-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, name), renderCreator(playlist), React.createElement(\"div\", {\n        className: \"operation-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.renderCollectBtn(id)), React.createElement(\"div\", {\n        className: \"tags\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"\\u6807\\u7B7E\\uFF1A\", tags.map(function (v) {\n        return React.createElement(\"span\", {\n          key: v,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, v);\n      })), React.createElement(\"div\", {\n        className: \"playlist-desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: this.state.showDesc ? 'show' : 'more',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, description)))));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nexport default Header;","map":{"version":3,"sources":["H:\\music\\react-music-player\\src\\views\\Playlist\\header\\index.js"],"names":["React","Component","Icon","MinorTitle","formatTimeStamp","renderCreator","playlist","creator","avatarUrl","nickname","createTime","playCount","checkStarred","id","allStarredList","JSON","parse","localStorage","getItem","i","length","list","Header","props","toggleDesc","Setstate","showDesc","state","beforeStar","beforeCancelStar","renderCollectBtn","coverImgUrl","name","description","tags","map","v"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport MinorTitle from '@components/MinorTitle'\r\nimport { formatTimeStamp } from '@src/utils'\r\nimport './style.less';\r\n\r\nconst renderCreator = playlist =>(\r\n    <div className=\"creator\">\r\n        <span className=\"creator-avatar\">\r\n            <img src={playlist.creator.avatarUrl} alt=\"creator-avatar\" />\r\n        </span>\r\n        <span className=\"creator-nickname\">{playlist.creator.nickname}</span>\r\n        <span className=\"create-time\">{formatTimeStamp(playlist.createTime)}ÂàõÂª∫</span>\r\n        <span className=\"play-count\" role=\"img\" aria-label=\"hear\">üéß{playlist.playCount}</span>\r\n    </div>\r\n);\r\nconst checkStarred = (id) =>{\r\n    const allStarredList = JSON.parse(localStorage.getItem('allStarredList'));\r\n    if(allStarredList){\r\n        for (var i = 0; i < allStarredList.length; i++) {\r\n            const list=allStarredList[i];\r\n            if(list.id === id){\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nclass Header extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            showDesc:false\r\n        }\r\n    }\r\n\r\n    toggleDesc = () =>{\r\n        this.Setstate({\r\n            showDesc: !this.state.showDesc\r\n        })\r\n    }\r\n\r\n    beforeStar = () =>{\r\n        this.props.beforeStar()\r\n    }\r\n    beforeCancelStar = () => {\r\n        this.props.beforeCancelStar()\r\n    }\r\n    renderCollectBtn = (id) =>(\r\n        checkStarred(id) ? (\r\n            <span onClick={this.beforeCancelStar}>\r\n                <Icon type=\"heart\"/>ÂèñÊ∂àÊî∂Ëóè\r\n            </span>\r\n        ) : (\r\n            <span onClick={this.beforeStar}>\r\n                <Icon type=\"heart\"/>Êî∂Ëóè\r\n            </span>\r\n        )\r\n    )\r\n    render(){\r\n        const { playlist } = this.props;\r\n        const {coverImgUrl, name, description, tags} = playlist\r\n        const { id } = playlist\r\n        return(\r\n            <div>\r\n                <MinorTitle>Ê≠åÂçï</MinorTitle>\r\n                <div className=\"info-header\">\r\n                    <div className=\"cover-img\">\r\n                        <img src={coverImgUrl} alt=\"cover-img\"/>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <p className=\"title\">{name}</p>\r\n                        {renderCreator(playlist)}\r\n                        <div className=\"operation-buttons\">{this.renderCollectBtn(id)}</div>\r\n                        <div className=\"tags\">\r\n                            Ê†áÁ≠æÔºö\r\n                            {tags.map(v => <span key={v}>{v}</span>)}\r\n                        </div>\r\n                        <div className=\"playlist-desc\">\r\n                            <p\r\n                                className={this.state.showDesc ? 'show' : 'more'}>\r\n                                    {description}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}